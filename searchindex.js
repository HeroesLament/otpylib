Search.setIndex({"docnames": ["api/index", "api/triotp", "guides/index", "guides/message-passing", "guides/simple-app", "guides/webserver", "index"], "filenames": ["api/index.rst", "api/triotp.rst", "guides/index.rst", "guides/message-passing.rst", "guides/simple-app.rst", "guides/webserver.rst", "index.rst"], "titles": ["API Reference", "triotp package", "Tutorials", "Message-Passing between tasks with mailboxes", "A simple application", "Running a webserver", "TriOTP, the OTP framework for Python Trio"], "terms": {"triotp": [0, 3, 4, 5], "packag": [0, 6], "modul": [0, 4, 6], "content": 0, "submodul": 0, "node": [0, 3], "run": [0, 1, 2, 3, 4, 6], "applic": [0, 2, 5, 6], "app_spec": [0, 1, 4], "start": [0, 1, 3, 5], "stop": [0, 1, 4], "supervisor": [0, 5, 6], "child_spec": [0, 1, 4, 5], "option": [0, 1, 4, 5], "restart_strategi": [0, 1, 4], "mailbox": [0, 2, 4, 6], "mailboxdoesnotexist": [0, 1], "mailboxid": [0, 1], "namealreadyexist": [0, 1], "namedoesnotexist": [0, 1], "creat": [0, 1, 4], "destroi": [0, 1, 3], "open": [0, 1, 3], "receiv": [0, 1, 4], "regist": [0, 1, 3], "send": [0, 1, 4], "unregist": [0, 1], "unregister_al": [0, 1], "gen_serv": [0, 4, 6], "genserverexit": [0, 1, 4], "norepli": [0, 1, 4], "repli": [0, 1, 4], "call": [0, 1, 4], "cast": [0, 1, 4], "dynamic_supervisor": 0, "start_child": [0, 1], "log": 0, "loglevel": [0, 1], "getlogg": [0, 1], "helper": [0, 4], "current_modul": [0, 1, 4], "i": [1, 3, 4, 5, 6], "built": [1, 6], "top": [1, 5, 6], "trio": [1, 3, 5], "async": [1, 3, 4, 5, 6], "librari": [1, 6], "therefor": [1, 3], "directli": [1, 4], "compat": 1, "asyncio": [1, 5], "thi": [1, 3, 4, 5, 6], "revolv": 1, "around": 1, "folllw": 1, "concept": [1, 6], "repres": 1, "singl": [1, 3, 4], "asynchron": [1, 3], "loop": 1, "an": [1, 3, 4, 5], "root": [1, 4, 6], "supervis": [1, 4, 5, 6], "tree": [1, 4, 5, 6], "handl": [1, 4], "automat": [1, 3, 4, 6], "restart": [1, 4, 6], "child": [1, 4], "process": 1, "enabl": 1, "messag": [1, 2, 4, 6], "pass": [1, 2, 4, 6], "between": [1, 2, 6], "task": [1, 2, 4, 5, 6], "On": 1, "provid": [1, 3, 6], "gener": [1, 6], "server": [1, 6], "request": [1, 4], "from": [1, 3, 4, 5], "other": [1, 4, 6], "dynam": 1, "schedul": 1, "new": [1, 4], "nb": [1, 4], "you": [1, 3, 4, 5], "don": 1, "t": 1, "get": 1, "distribut": 1, "comput": 1, "out": [1, 6], "box": 1, "like": [1, 4], "would": 1, "erlang": [1, 6], "elixir": [1, 6], "thread": 1, "work": [1, 3, 4], "within": [1, 4], "python": [1, 4], "onli": [1, 4], "A": [1, 2, 6], "encapsul": 1, "allow": [1, 4], "specifi": 1, "list": 1, "There": [1, 3, 4], "depend": 1, "manag": 1, "": [1, 4], "up": 1, "correct": 1, "right": 1, "order": 1, "exampl": [1, 3], "pyotp": 1, "import": [1, 3, 4, 5], "myproject": [1, 5], "myapp1": 1, "myapp2": 1, "app": [1, 4, 5], "start_arg": [1, 4], "perman": [1, 4], "fals": [1, 4], "none": [1, 3, 4], "logformat": 1, "str": 1, "paramet": 1, "level": 1, "format": 1, "produc": [1, 3], "defin": [1, 4], "function": [1, 4], "def": [1, 3, 4, 5], "_start_arg": [1, 4], "print": [1, 3, 4], "hello": [1, 3, 4], "world": [1, 3, 4], "usual": 1, "contain": 1, "class": 1, "ani": [1, 4], "bool": 1, "true": 1, "opt": [1, 4, 5], "base": 1, "object": 1, "describ": 1, "argument": [1, 4], "current": 1, "If": [1, 4], "alreadi": 1, "doe": [1, 4], "noth": 1, "cannot": 1, "outsid": 1, "The": [1, 3], "app_nam": 1, "wa": [1, 6], "__name__": [1, 4], "us": [1, 3, 4, 6], "set": 1, "It": [1, 4, 5, 6], "take": 1, "care": 1, "them": 1, "thei": [1, 4], "exit": [1, 4], "prematur": [1, 4], "crash": [1, 4], "random": 1, "threshold": 1, "while": 1, "rais": [1, 4], "runtimeerror": 1, "bad": 1, "luck": 1, "els": 1, "await": [1, 3, 4, 5], "sleep": 1, "0": 1, "1": 1, "start_supervisor": 1, "children": [1, 4, 5, 6], "id": [1, 4, 5], "arg": [1, 4, 5], "5": [1, 4], "max_restart": [1, 4], "3": [1, 4], "max_second": [1, 4], "callabl": 1, "identifi": [1, 3], "when": [1, 3, 4], "int": 1, "maximum": 1, "number": 1, "dure": 1, "limit": 1, "timespan": 1, "durat": 1, "valu": [1, 4], "enum": 1, "alwai": [1, 4, 6], "temporari": [1, 4], "never": [1, 4], "transient": [1, 4], "2": [1, 3, 4], "except": [1, 4], "task_statu": [1, 3], "task_status_ignor": [1, 3], "its": [1, 4, 6], "notifi": [1, 4], "nurseri": [1, 3], "readi": [1, 5], "children_a": 1, "children_b": 1, "open_nurseri": [1, 3], "In": [1, 3, 4, 5], "each": 1, "have": [1, 4], "pid": 1, "can": [1, 3, 4], "With": 1, "thing": 1, "memori": 1, "channel": 1, "which": [1, 4], "commun": 1, "task_a": 1, "name": [1, 3, 4], "mid": [1, 3], "msg": 1, "task_b": 1, "main": [1, 3, 4], "start_soon": [1, 3], "error": [1, 4], "thrown": 1, "found": 1, "uuid4": 1, "alia": 1, "typevar": 1, "bound": 1, "try": [1, 4], "non": 1, "exist": 1, "return": [1, 4], "uniqu": [1, 3], "close": [1, 3], "asynccontextmanag": 1, "shortcut": 1, "follow": 1, "context": 1, "foo": [1, 3], "timeout": 1, "float": 1, "on_timeout": 1, "consum": [1, 3], "fail": 1, "after": [1, 4], "second": [1, 4], "instead": 1, "result": 1, "tooslowerror": 1, "isn": 1, "assign": 1, "name_or_mid": 1, "either": [1, 4], "all": 1, "associ": 1, "abstract": [1, 3, 4], "best": 1, "build": 1, "compon": 1, "accept": 1, "your": [1, 5], "kei": 1, "store": 1, "tcp": 1, "handler": 1, "finit": 1, "state": [1, 4], "machin": [1, 4], "ar": [1, 4], "wai": [1, 3], "wait": [1, 3, 4], "respons": [1, 4], "caller": [1, 4], "side": 1, "__module__": [1, 4], "kvstore": 1, "val": 1, "printstat": 1, "callback": [1, 4], "init": [1, 4], "_init_arg": [1, 4], "termin": [1, 4], "reason": [1, 4], "occur": 1, "notimplementederror": [1, 4], "handle_cal": [1, 4], "_caller": [1, 4], "match": [1, 4], "case": [1, 4], "payload": 1, "prev": 1, "_": [1, 4], "exc": [1, 4], "unknown": [1, 4], "handle_cast": [1, 4], "handle_info": [1, 4], "instanc": 1, "back": [1, 4], "baseexcept": 1, "bi": 1, "direct": 1, "writer": 1, "without": [1, 3], "expect": 1, "memorysendchannel": 1, "background": 1, "slow": 1, "later": [1, 4], "time": 1, "sendchannel": 1, "slow_task": 1, "do": [1, 3], "stuff": [1, 3], "pool": 1, "some": [1, 4], "init_arg": [1, 4], "null": 1, "almost": 1, "ident": 1, "normal": 1, "differ": 1, "py": [1, 4], "worker": 1, "worker_pool": 1, "specif": 1, "system": 1, "reli": 1, "logbook": 1, "ha": 1, "own": 1, "critic": 1, "6": 1, "debug": 1, "info": 1, "disabl": 1, "warn": 1, "4": 1, "to_logbook": 1, "convert": 1, "logger": 1, "should": [1, 4], "similar": 1, "get_modul": 1, "won": 1, "simpl": [2, 6], "webserv": [2, 6], "mechan": 3, "exchang": 3, "rest": 3, "tutori": [3, 4, 5, 6], "we": [3, 4], "ll": [3, 4, 5], "see": [3, 6], "how": [3, 5], "step": [3, 4], "done": [3, 4], "requir": 3, "want": [3, 6], "standalon": 3, "_init": 3, "your_task": 3, "Or": 3, "variabl": 3, "hold": 3, "refer": [3, 6], "But": 3, "hard": 3, "referenc": 3, "echo": 4, "interact": 4, "first": 4, "let": 4, "our": 4, "folder": 4, "structur": 4, "mkdir": 4, "simple_triotp": 4, "touch": 4, "__init__": 4, "architectur": 4, "file": 4, "echo_serv": 4, "nostat": 4, "unkown": 4, "command": 4, "look": 4, "whenev": 4, "made": [4, 6], "sent": 4, "third": 4, "soon": 4, "deleg": 4, "immedi": 4, "also": 4, "maiblox": 4, "itself": 4, "everi": 4, "anyth": 4, "data": 4, "databas": 4, "connect": 4, "trigger": 4, "must": 4, "tupl": 4, "whose": 4, "element": 4, "impli": 4, "futur": 4, "exactli": 4, "same": 4, "final": 4, "echo_cli": 4, "assert": 4, "network": 4, "failur": 4, "support": 4, "strategi": 4, "more": [4, 6], "than": 4, "period": 4, "mayb": 4, "parent": 4, "echo_app": 4, "echo_supervisor": 4, "spec": 4, "need": [4, 5], "entrypoint": 4, "__main__": 4, "now": 4, "whole": 4, "program": 4, "m": 4, "learn": 5, "asgi": 5, "wsgi": 5, "web": 5, "part": 5, "befor": 5, "hypercorn": 5, "pip": 5, "instal": 5, "product": 5, "http": 5, "abl": 5, "Then": 5, "asgi_app": 5, "wsgi_app": 5, "middlewar": 5, "triowsgimiddlewar": 5, "config": 5, "serv": 5, "config_a": 5, "bind": 5, "localhost": 5, "8000": 5, "config_b": 5, "8001": 5, "endpoint": 5, "b": 5, "document": 6, "inform": 6, "project": 6, "simplifi": 6, "implement": 6, "sinc": 6, "write": 6, "code": 6, "ve": 6, "languag": 6, "fun": 6, "most": 6, "importantli": 6, "possibl": 6, "As": 6, "turn": 6, "api": 6, "index": 6, "search": 6, "page": 6}, "objects": {"": [[1, 0, 0, "-", "triotp"]], "triotp": [[1, 0, 0, "-", "application"], [1, 0, 0, "-", "dynamic_supervisor"], [1, 0, 0, "-", "gen_server"], [1, 0, 0, "-", "helpers"], [1, 0, 0, "-", "logging"], [1, 0, 0, "-", "mailbox"], [1, 0, 0, "-", "node"], [1, 0, 0, "-", "supervisor"]], "triotp.application": [[1, 1, 1, "", "app_spec"], [1, 3, 1, "", "start"], [1, 3, 1, "", "stop"]], "triotp.application.app_spec": [[1, 2, 1, "", "module"], [1, 2, 1, "", "opts"], [1, 2, 1, "", "permanent"], [1, 2, 1, "", "start_arg"]], "triotp.dynamic_supervisor": [[1, 3, 1, "", "start"], [1, 3, 1, "", "start_child"]], "triotp.gen_server": [[1, 4, 1, "", "GenServerExited"], [1, 1, 1, "", "NoReply"], [1, 1, 1, "", "Reply"], [1, 1, 1, "", "Stop"], [1, 3, 1, "", "call"], [1, 3, 1, "", "cast"], [1, 3, 1, "", "reply"], [1, 3, 1, "", "start"]], "triotp.gen_server.Reply": [[1, 2, 1, "", "payload"]], "triotp.gen_server.Stop": [[1, 2, 1, "", "reason"]], "triotp.helpers": [[1, 3, 1, "", "current_module"]], "triotp.logging": [[1, 1, 1, "", "LogLevel"], [1, 3, 1, "", "getLogger"]], "triotp.logging.LogLevel": [[1, 2, 1, "", "CRITICAL"], [1, 2, 1, "", "DEBUG"], [1, 2, 1, "", "ERROR"], [1, 2, 1, "", "INFO"], [1, 2, 1, "", "NONE"], [1, 2, 1, "", "WARNING"], [1, 5, 1, "", "to_logbook"]], "triotp.mailbox": [[1, 4, 1, "", "MailboxDoesNotExist"], [1, 1, 1, "", "MailboxID"], [1, 4, 1, "", "NameAlreadyExist"], [1, 4, 1, "", "NameDoesNotExist"], [1, 3, 1, "", "create"], [1, 3, 1, "", "destroy"], [1, 3, 1, "", "open"], [1, 3, 1, "", "receive"], [1, 3, 1, "", "register"], [1, 3, 1, "", "send"], [1, 3, 1, "", "unregister"], [1, 3, 1, "", "unregister_all"]], "triotp.node": [[1, 3, 1, "", "run"]], "triotp.supervisor": [[1, 1, 1, "", "child_spec"], [1, 1, 1, "", "options"], [1, 1, 1, "", "restart_strategy"], [1, 3, 1, "", "start"]], "triotp.supervisor.child_spec": [[1, 2, 1, "", "args"], [1, 2, 1, "", "id"], [1, 2, 1, "", "restart"], [1, 2, 1, "", "task"]], "triotp.supervisor.options": [[1, 2, 1, "", "max_restarts"], [1, 2, 1, "", "max_seconds"]], "triotp.supervisor.restart_strategy": [[1, 2, 1, "", "PERMANENT"], [1, 2, 1, "", "TEMPORARY"], [1, 2, 1, "", "TRANSIENT"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:attribute", "3": "py:function", "4": "py:exception", "5": "py:method"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "attribute", "Python attribute"], "3": ["py", "function", "Python function"], "4": ["py", "exception", "Python exception"], "5": ["py", "method", "Python method"]}, "titleterms": {"api": 0, "refer": 0, "triotp": [1, 6], "packag": 1, "modul": 1, "content": [1, 2, 6], "submodul": 1, "node": [1, 4], "applic": [1, 4], "supervisor": [1, 4], "mailbox": [1, 3], "gen_serv": 1, "dynamic_supervisor": 1, "log": 1, "helper": 1, "tutori": 2, "messag": 3, "pass": 3, "between": 3, "task": 3, "initi": 3, "registri": 3, "creat": 3, "send": 3, "receiv": 3, "A": 4, "simpl": 4, "The": 4, "gener": 4, "server": 4, "client": 4, "process": 4, "start": [4, 6], "run": 5, "webserv": 5, "otp": 6, "framework": 6, "python": 6, "trio": 6, "introduct": 6, "why": 6, "get": 6, "indic": 6, "tabl": 6}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"API Reference": [[0, "api-reference"]], "triotp package": [[1, "triotp-package"]], "Module contents": [[1, "module-triotp"]], "Submodules": [[1, "submodules"]], "triotp.node module": [[1, "module-triotp.node"]], "triotp.application module": [[1, "module-triotp.application"]], "triotp.supervisor module": [[1, "module-triotp.supervisor"]], "triotp.mailbox module": [[1, "module-triotp.mailbox"]], "triotp.gen_server module": [[1, "module-triotp.gen_server"]], "triotp.dynamic_supervisor module": [[1, "module-triotp.dynamic_supervisor"]], "triotp.logging module": [[1, "module-triotp.logging"]], "triotp.helpers module": [[1, "module-triotp.helpers"]], "Tutorials": [[2, "tutorials"]], "Contents:": [[2, null], [6, null]], "Message-Passing between tasks with mailboxes": [[3, "message-passing-between-tasks-with-mailboxes"]], "Initializing the mailbox registry": [[3, "initializing-the-mailbox-registry"]], "Creating a mailbox": [[3, "creating-a-mailbox"]], "Sending and receiving messages": [[3, "sending-and-receiving-messages"]], "A simple application": [[4, "a-simple-application"]], "The Generic Server": [[4, "the-generic-server"]], "The client process": [[4, "the-client-process"]], "The supervisor": [[4, "the-supervisor"]], "The application": [[4, "the-application"]], "Starting the node": [[4, "starting-the-node"]], "Running a webserver": [[5, "running-a-webserver"]], "TriOTP, the OTP framework for Python Trio": [[6, "triotp-the-otp-framework-for-python-trio"]], "Introduction": [[6, "introduction"]], "Why ?": [[6, "why"]], "Getting Started": [[6, "getting-started"]], "Indices and tables": [[6, "indices-and-tables"]]}, "indexentries": {"critical (triotp.logging.loglevel attribute)": [[1, "triotp.logging.LogLevel.CRITICAL"]], "debug (triotp.logging.loglevel attribute)": [[1, "triotp.logging.LogLevel.DEBUG"]], "error (triotp.logging.loglevel attribute)": [[1, "triotp.logging.LogLevel.ERROR"]], "genserverexited": [[1, "triotp.gen_server.GenServerExited"]], "info (triotp.logging.loglevel attribute)": [[1, "triotp.logging.LogLevel.INFO"]], "loglevel (class in triotp.logging)": [[1, "triotp.logging.LogLevel"]], "mailboxdoesnotexist": [[1, "triotp.mailbox.MailboxDoesNotExist"]], "mailboxid (class in triotp.mailbox)": [[1, "triotp.mailbox.MailboxID"]], "none (triotp.logging.loglevel attribute)": [[1, "triotp.logging.LogLevel.NONE"]], "namealreadyexist": [[1, "triotp.mailbox.NameAlreadyExist"]], "namedoesnotexist": [[1, "triotp.mailbox.NameDoesNotExist"]], "noreply (class in triotp.gen_server)": [[1, "triotp.gen_server.NoReply"]], "permanent (triotp.supervisor.restart_strategy attribute)": [[1, "triotp.supervisor.restart_strategy.PERMANENT"]], "reply (class in triotp.gen_server)": [[1, "triotp.gen_server.Reply"]], "stop (class in triotp.gen_server)": [[1, "triotp.gen_server.Stop"]], "temporary (triotp.supervisor.restart_strategy attribute)": [[1, "triotp.supervisor.restart_strategy.TEMPORARY"]], "transient (triotp.supervisor.restart_strategy attribute)": [[1, "triotp.supervisor.restart_strategy.TRANSIENT"]], "warning (triotp.logging.loglevel attribute)": [[1, "triotp.logging.LogLevel.WARNING"]], "app_spec (class in triotp.application)": [[1, "triotp.application.app_spec"]], "args (triotp.supervisor.child_spec attribute)": [[1, "triotp.supervisor.child_spec.args"]], "call() (in module triotp.gen_server)": [[1, "triotp.gen_server.call"]], "cast() (in module triotp.gen_server)": [[1, "triotp.gen_server.cast"]], "child_spec (class in triotp.supervisor)": [[1, "triotp.supervisor.child_spec"]], "create() (in module triotp.mailbox)": [[1, "triotp.mailbox.create"]], "current_module() (in module triotp.helpers)": [[1, "triotp.helpers.current_module"]], "destroy() (in module triotp.mailbox)": [[1, "triotp.mailbox.destroy"]], "getlogger() (in module triotp.logging)": [[1, "triotp.logging.getLogger"]], "id (triotp.supervisor.child_spec attribute)": [[1, "triotp.supervisor.child_spec.id"]], "max_restarts (triotp.supervisor.options attribute)": [[1, "triotp.supervisor.options.max_restarts"]], "max_seconds (triotp.supervisor.options attribute)": [[1, "triotp.supervisor.options.max_seconds"]], "module": [[1, "module-triotp"], [1, "module-triotp.application"], [1, "module-triotp.dynamic_supervisor"], [1, "module-triotp.gen_server"], [1, "module-triotp.helpers"], [1, "module-triotp.logging"], [1, "module-triotp.mailbox"], [1, "module-triotp.node"], [1, "module-triotp.supervisor"]], "module (triotp.application.app_spec attribute)": [[1, "triotp.application.app_spec.module"]], "open() (in module triotp.mailbox)": [[1, "triotp.mailbox.open"]], "options (class in triotp.supervisor)": [[1, "triotp.supervisor.options"]], "opts (triotp.application.app_spec attribute)": [[1, "triotp.application.app_spec.opts"]], "payload (triotp.gen_server.reply attribute)": [[1, "triotp.gen_server.Reply.payload"]], "permanent (triotp.application.app_spec attribute)": [[1, "triotp.application.app_spec.permanent"]], "reason (triotp.gen_server.stop attribute)": [[1, "triotp.gen_server.Stop.reason"]], "receive() (in module triotp.mailbox)": [[1, "triotp.mailbox.receive"]], "register() (in module triotp.mailbox)": [[1, "triotp.mailbox.register"]], "reply() (in module triotp.gen_server)": [[1, "triotp.gen_server.reply"]], "restart (triotp.supervisor.child_spec attribute)": [[1, "triotp.supervisor.child_spec.restart"]], "restart_strategy (class in triotp.supervisor)": [[1, "triotp.supervisor.restart_strategy"]], "run() (in module triotp.node)": [[1, "triotp.node.run"]], "send() (in module triotp.mailbox)": [[1, "triotp.mailbox.send"]], "start() (in module triotp.application)": [[1, "triotp.application.start"]], "start() (in module triotp.dynamic_supervisor)": [[1, "triotp.dynamic_supervisor.start"]], "start() (in module triotp.gen_server)": [[1, "triotp.gen_server.start"]], "start() (in module triotp.supervisor)": [[1, "triotp.supervisor.start"]], "start_arg (triotp.application.app_spec attribute)": [[1, "triotp.application.app_spec.start_arg"]], "start_child() (in module triotp.dynamic_supervisor)": [[1, "triotp.dynamic_supervisor.start_child"]], "stop() (in module triotp.application)": [[1, "triotp.application.stop"]], "task (triotp.supervisor.child_spec attribute)": [[1, "triotp.supervisor.child_spec.task"]], "to_logbook() (triotp.logging.loglevel method)": [[1, "triotp.logging.LogLevel.to_logbook"]], "triotp": [[1, "module-triotp"]], "triotp.application": [[1, "module-triotp.application"]], "triotp.dynamic_supervisor": [[1, "module-triotp.dynamic_supervisor"]], "triotp.gen_server": [[1, "module-triotp.gen_server"]], "triotp.helpers": [[1, "module-triotp.helpers"]], "triotp.logging": [[1, "module-triotp.logging"]], "triotp.mailbox": [[1, "module-triotp.mailbox"]], "triotp.node": [[1, "module-triotp.node"]], "triotp.supervisor": [[1, "module-triotp.supervisor"]], "unregister() (in module triotp.mailbox)": [[1, "triotp.mailbox.unregister"]], "unregister_all() (in module triotp.mailbox)": [[1, "triotp.mailbox.unregister_all"]]}})